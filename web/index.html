<!DOCTYPE html>
<html>
	<head>
		<base href="$FLUTTER_BASE_HREF" />
		<meta charset="UTF-8" />
		<meta content="IE=Edge" http-equiv="X-UA-Compatible" />
		<meta name="description" content="A new Flutter project." />
		<meta
			name="viewport"
			content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=0,viewport-fit=fill"
		/>
		<meta name="theme-color" content="#090B16" />
		<!-- iOS meta tags & icons -->
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black" />
		<meta name="apple-mobile-web-app-title" content="Ms.爱熟" />
		<link rel="apple-touch-icon" href="logo.png" />

		<!-- Favicon -->
		<link rel="icon" type="image/png" href="logo.png" />

		<style>
			body {
				background-color: #090b16;
			}

			#app_splash {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				z-index: 1003;
				overflow: hidden;
				display: flex;
				align-items: center;
				justify-content: center;
				background: url("./splash.jpg") no-repeat;
				background-size: 100% 100%;
			}

			#loading {
				width: 80px;
				height: 80px;
			}
		</style>

		<title>baby_app</title>
		<link rel="manifest" href="manifest.json" />

		<script src="./hls.js" type="application/javascript"></script>
		<script
			type="application/javascript"
			src="/assets/packages/flutter_inappwebview_web/assets/web/web_support.js"
			defer
		></script>
		<!-- <script src="node_modules/devtools-detector/lib/devtools-detector.js"></script> -->
	</head>

	<body>
		<div id="app_splash">
			<img src="./loading.gif" id="loading" />
		</div>
		<script>
			{{flutter_js}} {{flutter_build_config}}

			const swVersion = {{flutter_service_worker_version}};

			window.addEventListener("load", function (ev) {

			  let loading = document.querySelector("#loading");
			  _flutter.loader.load({
			    serviceWorkerSettings: {
			      serviceWorkerVersion: swVersion,
			    },
			    onEntrypointLoaded: function (engineInitializer) {
			      engineInitializer.initializeEngine().then(function (appRunner) {
			        appRunner.runApp();
			        loading.remove();
			      });
			    },
			  });
			});
			if ("serviceWorker" in navigator) {
			  window.addEventListener("flutter-first-frame", async function () {
			    var splash = document.getElementById("app_splash");
			    if (splash) {
			      splash.remove();
			    }
			  });
			}

			document.addEventListener(
			  "touchstart",
			  (startEvent) => {
			    if (startEvent.touches.length > 1) return;
			    startEvent.preventDefault();
			  }, {
			    passive: false
			  }
			);
		</script>
	</body>
</html>
